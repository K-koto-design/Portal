<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†–∞–±–æ—á–∏–π –ü–æ—Ä—Ç–∞–ª</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="–ü–æ—Ä—Ç–∞–ª">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://img.icons8.com/fluency/300/shield.png">

    <style>
        :root {
            --bg: #f2f2f7;
            --accent: #007aff;
            --card: #ffffff;
            --text: #1c1c1e;
            --gray: #8e8e93;
            --red: #ff3b30;
            --green: #34c759;
        }

        body, html { margin: 0; padding: 0; font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); height: 100%; }

        /* –≠–ö–†–ê–ù –£–°–¢–ê–ù–û–í–ö–ò (iOS) */
        #ios-lock { display: none; padding: 40px 20px; text-align: center; }
        .setup-card { background: white; border-radius: 20px; padding: 20px; text-align: left; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-top: 20px; }
        
        /* –≠–ö–†–ê–ù –í–•–û–î–ê */
        #login-screen { display: flex; flex-direction: column; justify-content: center; padding: 40px; height: 100vh; box-sizing: border-box; }
        input { width: 100%; padding: 15px; margin-bottom: 10px; border-radius: 12px; border: 1px solid #ddd; font-size: 16px; box-sizing: border-box; outline: none; }
        .btn { background: var(--accent); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 600; width: 100%; cursor: pointer; }

        /* –ì–õ–ê–í–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–° */
        #main-app { display: none; padding: 20px; }
        .header { background: var(--card); padding: 20px; border-radius: 20px; text-align: center; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .total-sum { font-size: 28px; font-weight: 800; color: var(--accent); }
        
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; }
        .tab { background: #e5e5ea; padding: 10px 20px; border-radius: 20px; font-size: 14px; white-space: nowrap; cursor: pointer; }
        .tab.active { background: var(--accent); color: white; }

        .item-card { background: white; padding: 15px; border-radius: 15px; margin-bottom: 10px; border: 1px solid #e5e5ea; }
        .status { font-size: 12px; font-weight: bold; padding: 4px 8px; border-radius: 6px; display: inline-block; margin-top: 5px; }
        .status-debt { background: #ffebeb; color: var(--red); }
        .status-ok { background: #e8f9ed; color: var(--green); }
        .val { font-weight: bold; color: var(--accent); }
    </style>
</head>
<body>

    <div id="ios-lock">
        <div style="font-size: 50px;">üì≤</div>
        <h2>–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h2>
        <p>–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ iPhone –¥–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–∏—Å –Ω–∞ —ç–∫—Ä–∞–Ω –î–æ–º–æ–π.</p>
        <div class="setup-card">
            <p>1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª</b> (–∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π).</p>
            <p>2. –í—ã–±–µ—Ä–∏—Ç–µ <b>¬´–ù–∞ —ç–∫—Ä–∞–Ω ‚Äû–î–æ–º–æ–π‚Äú¬ª</b>.</p>
            <p>3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ—è–≤–∏–≤—à–µ–µ—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</p>
        </div>
    </div>

    <div id="login-screen">
        <h1 style="text-align:center;">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
        <input type="text" id="username" placeholder="–õ–æ–≥–∏–Ω">
        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
        <button class="btn" onclick="tryLogin()">–í–æ–π—Ç–∏</button>
        <p id="error" style="color:red; text-align:center; display:none;">–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞</p>
    </div>

    <div id="main-app">
        <div class="header">
            <div style="font-size: 12px; color: var(--gray); text-transform: uppercase;">–û–±—â–∞—è —Å—É–º–º–∞ –∞–∫—Ç–∏–≤–æ–≤</div>
            <div class="total-sum" id="total-display">1 000 005 ‚ÇΩ</div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('clients', this)">–ö–ª–∏–µ–Ω—Ç—ã</div>
            <div class="tab" onclick="showTab('loans', this)">–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞</div>
            <div class="tab" onclick="showTab('assets', this)">–†–µ–µ—Å—Ç—Ä –∫–∞—Ä—Ç</div>
        </div>

        <div id="content-area"></div>
    </div>

    <script>
        // –î–ê–ù–ù–´–ï –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø
        const data = {
            clients: [
                { name: "–ê—Ä—Ç—ë–º", phone: "+7 (911) 796-15-22", status: "–û–±—ã—á–Ω–æ" },
                { name: "–î–∞–Ω—è", phone: "+381 (000) 382-75-02", status: "–û–±—ã—á–Ω–æ" },
                { name: "–ú–∞—Ç–≤–µ–π", phone: "+7 (901) 736-24-15", status: "–û–±—ã—á–Ω–æ" },
                { name: "–°–≤—è—Ç–æ—Å–ª–∞–≤", phone: "+375 (529) 888-00-88", status: "–û–±—ã—á–Ω–æ" },
                { name: "–†–æ–º–∞–Ω", phone: "+7 (906) 235-74-33", status: "–û–±—ã—á–Ω–æ" },
                { name: "–ú–∏—Ö–∞–∏–ª", phone: "+7 (999) 000-11-22", status: "–û–±—ã—á–Ω–æ" },
                { name: "–ê—Ä—Ç—ë–º", phone: "+7 (890) 763-18-90", status: "–û–±—ã—á–Ω–æ" },
                { name: "–ê–ª–µ–∫—Å–µ–π", phone: "+7 (999) 000-11-22", status: "–û–±—ã—á–Ω–æ" },
                { name: "–¢–∏–º–æ—Ñ–µ–π", phone: "+7 (902) 871-61-09", status: "–û–±—ã—á–Ω–æ" }
            ],
            loans: [
                { holder: "–ú–∏—Ö–∞–∏–ª", amount: 4286 },
            ],
            cards: [
                { type: "–ú–ò–† *4152", holder: "–ê—Ä—Ç—ë–º" },
                { type: "–ú–ò–† *0102", holder: "–î–∞–Ω—è" },
                { type: "–ú–ò–† *3321", holder: "–ú–∞—Ç–≤–µ–π" },
                { type: "–ú–ò–† *5642", holder: "–°–≤—è—Ç–æ—Å–ª–∞–≤" },
                { type: "–ú–ò–† *2212", holder: "–†–æ–º–∞–Ω" },
                { type: "–ú–ò–† *4856", holder: "–ú–∏—Ö–∞–∏–ª" },
                { type: "–ú–ò–† *8732", holder: "–ê—Ä—Ç—ë–º" },
                { type: "–ú–ò–† *9001", holder: "–ê–ª–µ–∫—Å–µ–π" },
                { type: "–ú–ò–† *5673", holder: "–¢–∏–º–æ—Ñ–µ–π" },
            ]
        };

        // –†–∞—Å—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∞ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤/–∫—Ä–µ–¥–∏—Ç–æ–≤)
        const totalSum = data.loans.reduce((acc, curr) => acc + curr.amount, 0);
        document.getElementById('total-display').innerText = totalSum.toLocaleString() + " ‚ÇΩ";

        function tryLogin() {
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            if (u === "Admin" && p === "45621") {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-app').style.display = 'block';
                showTab('clients', document.querySelector('.tab'));
            } else {
                document.getElementById('error').style.display = 'block';
            }
        }

        function showTab(type, el) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            
            let html = '';
            if (type === 'clients') {
                data.clients.forEach(c => {
                    const sClass = c.status === "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" ? "status-debt" : "status-ok";
                    html += `<div class="item-card">
                        <b>${c.name}</b><br>
                        <span style="font-size:13px; color:gray">${c.phone}</span><br>
                        <span class="status ${sClass}">${c.status}</span>
                    </div>`;
                });
            } else if (type === 'loans') {
                data.loans.forEach(l => {
                    html += `<div class="item-card">
                        <div style="font-size:12px; color:gray">–î–µ—Ä–∂–∞—Ç–µ–ª—å:</div>
                        <div>${l.holder}</div>
                        <div class="val" style="margin-top:5px">${l.amount.toLocaleString()} ‚ÇΩ</div>
                    </div>`;
                });
            } else if (type === 'assets') {
                data.cards.forEach(card => {
                    html += `<div class="item-card">
                        <b>${card.type}</b><br>
                        <div style="font-size:13px; color:gray">–î–µ—Ä–∂–∞—Ç–µ–ª—å: ${card.holder}</div>
                    </div>`;
                });
            }
            document.getElementById('content-area').innerHTML = html;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞
        function checkDevice() {
            const isStandalone = window.navigator.standalone === true || window.matchMedia('(display-mode: standalone)').matches;
            const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

            if (isIOS && !isStandalone) {
                document.getElementById('ios-lock').style.display = 'block';
                document.getElementById('login-screen').style.display = 'none';
            }
        }

        window.onload = checkDevice;
    </script>
</body>
</html>
